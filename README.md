# gb-studio-xv-plugins
GB Studio 4 用のクセつよ・プラグイン集

## 概要
GB Studio で開発中のゲーム「XV」の副産物です。クセの強いプラグイン集なので万人向けではないかもしれませんが、役に立つ人もいるかもしれません。
商用・非商用問わずご自由にお使いください。ただし、これらのプラグイン集は実験的な制作物なので、将来予告なく改変・削除する可能性があります。また、バグや追加機能の追加は著者自身が必要としない場合は原則いたしませんので、利用はくれぐれも自己責任でお願いします。

クレジット記載などは不要ですが、クレジットいただける場合はこちらをお使いください：Tomo@indiegdevstdio または Tomo。

---

## 導入


GB Studio プロジェクトフォルダの「plugins」フォルダに jaJP の中にあるフォルダをコピーしてください。※ assets フォルダの中ではないことに注意してください。

![plugin_install](https://github.com/user-attachments/assets/1f991de8-b7b3-42e1-b0b8-8fab141a18c7)

[イベントの追加] ダイアログの [XV プラグイン] カテゴリ以下から取り込みたいイベントを追加します。

![adding_plugin_events](https://github.com/user-attachments/assets/efd9f8f9-25b7-4d8b-b14e-651dd1d53da4 "イベントの追加")
![add_events_sample](https://github.com/user-attachments/assets/818cf8a2-8d61-4acd-a7c7-df8bf8de87e6)


---

## 説明

***Obstacle_Checker***

- Actor_Walkability_Checker `[アクターの進行方向の障害物を取得する]`

  アクターの現在地と向きを基準にして、向かう方角に障害物が無く通行可能かどうかをチェックします。アクターが向かう方角にどのくらい進むかをオフセット値として指定し、アクターと目的地の間に他のアクターが存在せず、かつコリジョンが無い場合は、障害物無しとみなされます。それ以外の場合は、衝突したオブジェクトの ID 情報が代入されます。（例）障害物なし=0、障害物あり=コリジョンID、またはマイナス値で表されたアクターのID（ただし、プレイヤーの ID は -128 となる）の値が入ります。マップのコリジョンが先に代入された場合、アクター / プレイヤー ID は取得されません。※8x8 タイルサイズのみ対応しています。

  ![actor_walkability_checker](https://github.com/user-attachments/assets/3e9047c7-851e-4afc-8534-1fdd778b5e97)
  
- Obstacle_Checker `[タイルの障害物の情報を取得する]`

  特定のタイル（X,Y）の障害物の情報（マップのコリジョンまたはアクター）を取得します。指定したタイル上にアクターが存在せず、かつコリジョンが無い場合は、指定した変数に 0 が代入されます。それ以外の場合は、衝突したオブジェクトの ID 情報が代入されます。（例）障害物なし=0、障害物あり=コリジョンID、またはマイナス値で表されたアクターのID（プレイヤーの衝突判定も含める場合、プレイヤーの ID は -128 となる）の値が入ります。マップのコリジョンが先に代入された場合、アクター / プレイヤー ID は取得されません。

***SpriteTileReplace*** `[指定のスプライトタイルを置き換える]`

  スプライトの背景タイルを指定のタイルで置き換えます。GBVM 命令の VM_ACTOR_REPLACE_TILE と機能的にはほぼ同じですが、v4.0.1 の時点では「カラーのみ」モード指定の際に拡張された VRAM バンクにアクセスできないため、VRAM バンクを指定できるようにして、GBVM 命令を書かなくてもイベントとして使えるようにしたプラグインです。
